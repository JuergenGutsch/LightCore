<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Publish" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <PropertyGroup>
        <BasePath>$(MSBuildProjectDirectory)\</BasePath>
        <BuildFolder>C:\Build\LightCore\</BuildFolder>
        <PublishFolder>C:\inetpub\wwwroot\LightCore\</PublishFolder>
    </PropertyGroup>

    <ItemGroup>
        <Solution Include="LightCore.sln" />
    </ItemGroup>

    <Target Name="Clean">
        <MSBuild
          Projects="@(Solution)"
          Targets="Clean" />
        <RemoveDir
          Directories="$(BuildFolder)" Condition="Exists($(BuildFolder))" />
    </Target>

    <Target Name="Build" DependsOnTargets="Clean">
        <MSBuild
          Projects="@(Solution)"
          Targets="Build"
          Properties="Configuration=Release;Optimize=true" />
    </Target>
</Project>