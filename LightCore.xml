<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <PropertyGroup>
        <OutputPath>C:\Build\LightCore\$(BuildTarget)\</OutputPath>
    </PropertyGroup>

    <Target Name="Build">
        <MSBuild
          Projects="LightCore.sln"
          Targets="Clean;Build"
          Properties="OutputPath=$(OutputPath);Configuration=Release;Optimize=true;BuildTarget=$(BuildTarget);MSBuildTargets=$(BuildTarget);DefineConstants=$(BuildTarget)" />
    </Target>

    <ItemGroup>
        <ProjectReferencesLightCoreOnly Include="$(MSBuildProjectDirectory)\\LightCore\\LightCore.csproj" />
    </ItemGroup>


    <ItemGroup>
        <ProjectReferencesLightCoreAndConfiguration Include="$(MSBuildProjectDirectory)\\LightCore\\LightCore.csproj" />
        <ProjectReferencesLightCoreAndConfiguration Include="$(MSBuildProjectDirectory)\\LightCore.Configuration\\LightCore.Configuration.csproj" />
    </ItemGroup>

    <Target Name="LightCoreOnly">
        <MSBuild
          Projects="@(ProjectReferencesLightCoreOnly)"
          Targets="Clean;Build"
          Properties="OutputPath=$(OutputPath);Configuration=Release;Optimize=true;BuildTarget=$(BuildTarget);MSBuildTargets=$(BuildTarget);DefineConstants=$(BuildTarget)" />
    </Target>
</Project>